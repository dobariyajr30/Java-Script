<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="snake_and_ladder.css">
</head>

<body>
     <div class="back_arrow">
        <a href="../snake_and_ladder/opt.html">
            <div class="back_arrow_content">
                <div>
                    <img class="back_arrow_in" src="img/Back Arrow.png" alt="">
                </div>
                <div>
                    <p>Back</p>
                </div>
            </div>
        </a>
    </div>
    <div class="main">
        <div class="game_content">
            <div class="game_content_in">
               <h3>🎲 Snake & Ladder Game</h3>
                <p class="game-note">Touch the dice to start rolling. First to reach 100 wins! 🏁</p>

                <table border="5" class="board">
                    <tr>
                        <td id="txt1">START!💨</td>
                        <td id="txt2">2</td>
                        <td id="txt3" class="ladder">3 🔼 → 22</td>
                        <td id="txt4">4</td>
                        <td id="txt5" class="ladder">5 🔼 → 8</td>
                        <td id="txt6">6</td>
                        <td id="txt7">7</td>
                        <td id="txt8">8</td>
                        <td id="txt9">9</td>
                        <td id="txt10">10</td>
                    </tr>
                    <tr>
                        <td id="txt11" class="ladder">11 🔼 → 26</td>
                        <td id="txt12">12</td>
                        <td id="txt13">13</td>
                        <td id="txt14">14</td>
                        <td id="txt15">15</td>
                        <td id="txt16">16</td>
                        <td id="txt17">17</td>
                        <td id="txt18">18</td>
                        <td id="txt19">19</td>
                        <td id="txt20" class="ladder">20 🔼 → 29</td>
                    </tr>
                    <tr>
                        <td id="txt21">21</td>
                        <td id="txt22">22</td>
                        <td id="txt23">23</td>
                        <td id="txt24">24</td>
                        <td id="txt25">25</td>
                        <td id="txt26">26</td>
                        <td id="txt27" class="snake">27 🐍 → 1</td>
                        <td id="txt28" class="ladder">28 🔼 → 55</td>
                        <td id="txt29">29</td>
                        <td id="txt30">30</td>
                    </tr>
                    <tr>
                        <td id="txt31">31</td>
                        <td id="txt32">32</td>
                        <td id="txt33">33</td>
                        <td id="txt34" class="snake">34 🐍 → 6</td>
                        <td id="txt35">35</td>
                        <td id="txt36" class="ladder">36 🔼 → 44</td>
                        <td id="txt37">37</td>
                        <td id="txt38">38</td>
                        <td id="txt39">39</td>
                        <td id="txt40">40</td>
                    </tr>
                    <tr>
                        <td id="txt41">41</td>
                        <td id="txt42">42</td>
                        <td id="txt43">43</td>
                        <td id="txt44">44</td>
                        <td id="txt45">45</td>
                        <td id="txt46">46</td>
                        <td id="txt47" class="snake">47 🐍 → 19</td>
                        <td id="txt48">48</td>
                        <td id="txt49">49</td>
                        <td id="txt50">50</td>
                    </tr>
                    <tr>
                        <td id="txt51" class="ladder">51 🔼 → 72</td>
                        <td id="txt52">52</td>
                        <td id="txt53">53</td>
                        <td id="txt54">54</td>
                        <td id="txt55">55</td>
                        <td id="txt56">56</td>
                        <td id="txt57">57</td>
                        <td id="txt58">58</td>
                        <td id="txt59">59</td>
                        <td id="txt60">60</td>
                    </tr>
                    <tr>
                        <td id="txt61">61</td>
                        <td id="txt62">62</td>
                        <td id="txt63">63</td>
                        <td id="txt64">64</td>
                        <td id="txt65" class="snake">65 🐍 → 52</td>
                        <td id="txt66">66</td>
                        <td id="txt67">67</td>
                        <td id="txt68">68</td>
                        <td id="txt69">69</td>
                        <td id="txt70">70</td>
                    </tr>
                    <tr>
                        <td id="txt71" class="ladder">71 🔼 → 92</td>
                        <td id="txt72">72</td>
                        <td id="txt73">73</td>
                        <td id="txt74">74</td>
                        <td id="txt75">75</td>
                        <td id="txt76">76</td>
                        <td id="txt77">77</td>
                        <td id="txt78" class="ladder">78 🔼 → 98</td>
                        <td id="txt79">79</td>
                        <td id="txt80">80</td>
                    </tr>
                    <tr>
                        <td id="txt81">81</td>
                        <td id="txt82">82</td>
                        <td id="txt83">83</td>
                        <td id="txt84">84</td>
                        <td id="txt85">85</td>
                        <td id="txt86">86</td>
                        <td id="txt87" class="snake">87 🐍 → 57</td>
                        <td id="txt88">88</td>
                        <td id="txt89">89</td>
                        <td id="txt90">90</td>
                    </tr>
                    <tr>
                        <td id="txt91" class="snake">91 🐍 → 61</td>
                        <td id="txt92">92</td>
                        <td id="txt93">93</td>
                        <td id="txt94">94</td>
                        <td id="txt95">95</td>
                        <td id="txt96">96</td>
                        <td id="txt97" class="snake">97 🐍 → 24</td>
                        <td id="txt98">98</td>
                        <td id="txt99" class="snake">99 🐍 → 10</td>
                        <td id="txt100">END...🏁</td>
                    </tr>
                </table>
                <br>
                <div class="dice_sec">

                    🎲 Roll:
                    <input class="dice" type="button" value="0" id="btndice">
                </div>
                <br>
                <div class="player_stats">
                    1st is one:- <span id="spnst">1</span>
                <br>
                2nd is one:- <span id="spnnd">1</span>
                </div>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    let btndice=document.querySelector("#btndice");
    let c=1,sum_odd=0,sum_even=0;
    let txt=new Array(101);
    let i;

    let spnnd=document.querySelector("#spnnd");
    let spnst=document.querySelector("#spnst");

    let prev_odd=0;
    let prev_even=0;

    for (i=0; i<=100; i++) 
    {
        txt[i]=document.querySelector(`#txt${i}`);
    }


    function jump(pos) 
    {
        //Snakes
        if (pos == 27) 
        {
            return 1;
        } else if (pos == 34) {
            return 6;
        } else if (pos == 47) {
            return 19;
        } else if (pos == 65) {
            return 52;
        } else if (pos == 87) {
            return 57;
        } else if (pos == 91) {
            return 61;
        } else if (pos == 97) {
            return 24;
        } else if (pos == 99) {
            return 10;
        }

        //Ladders
        else if (pos == 3) {
            return 22;
        } else if (pos == 5) {
            return 8;
        } else if (pos == 11) {
            return 26;
        } else if (pos == 20) {
            return 29;
        } else if (pos == 28) {
            return 55;
        } else if (pos == 36) {
            return 44;
        } else if (pos == 51) {
            return 72;
        } else if (pos == 71) {
            return 92;
        } else if (pos == 78) {
            return 98;
        }

        // No snake or ladder
        else {
            return pos;
        }
    }


    btndice.addEventListener("click",()=>
    {
        btndice.value=(Math.floor(Math.random()*6)+1);
        let vlu=parseInt(btndice.value);

        if(c%2==0 && sum_even<=100) 
        {
            if (prev_even>0 && txt[prev_even]) 
            {
                txt[prev_even].style.backgroundColor = "";
            }


            sum_even+=vlu;
            sum_even=jump(sum_even);

            if (sum_even<=100 && txt[sum_even]) 
            {
                txt[sum_even].style.backgroundColor = "blue";
                prev_even=sum_even;
            }
        }

        else if (c % 2 != 0 && sum_odd <= 100) 
        {
            if (prev_odd > 0) {
                txt[prev_odd].style.backgroundColor = "";
            }

            sum_odd += vlu;
            sum_odd = jump(sum_odd);

            if (sum_odd <= 100 && txt[sum_odd]) {
                txt[sum_odd].style.backgroundColor = "red";
                prev_odd = sum_odd;
            }
        }



        if (sum_odd >= 100) 
        {
            alert("Player 1 Wins!");
        }
        else if (sum_even >= 100) 
        {
            alert("Player 2 Wins!");
        }


        if(sum_even<100 && sum_odd<100)
        {
            spnnd.innerHTML=sum_even;
            spnst.innerHTML=sum_odd;
        }

        c++;
    });


</script>

  

<script>
    // Select all game links
    const gameLinks = document.querySelectorAll('.content_in_opt_box a');

    gameLinks.forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault(); // stop immediate jump

            // Add fade-out class to body
            document.body.classList.add('fade-out');

            // Wait for animation to complete (500ms) then redirect
            setTimeout(() => {
                window.location.href = this.href;
            }, 500);
        });
    });

    window.addEventListener('load', () => {
        document.body.classList.add('loaded');
    });
</script>